/*! jQuery Validation Plugin - v1.17.0 - 7/29/2017
 * https://jqueryvalidation.org/
 * Copyright (c) 2017 Jörn Zaefferer; Licensed MIT */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){a.extend(a.fn,{validate:function(b){if(!this.length)return void(b&&b.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var c=a.data(this[0],"validator");return c?c:(this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.on("click.validate",":submit",function(b){c.submitButton=b.currentTarget,a(this).hasClass("cancel")&&(c.cancelSubmit=!0),void 0!==a(this).attr("formnovalidate")&&(c.cancelSubmit=!0)}),this.on("submit.validate",function(b){function d(){var d,e;return c.submitButton&&(c.settings.submitHandler||c.formSubmitted)&&(d=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)),!c.settings.submitHandler||(e=c.settings.submitHandler.call(c,c.currentForm,b),d&&d.remove(),void 0!==e&&e)}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function(){var b,c,d;return a(this[0]).is("form")?b=this.validate().form():(d=[],b=!0,c=a(this[0].form).validate(),this.each(function(){b=c.element(this)&&b,b||(d=d.concat(c.errorList))}),c.errorList=d),b},rules:function(b,c){var d,e,f,g,h,i,j=this[0];if(null!=j&&(!j.form&&j.hasAttribute("contenteditable")&&(j.form=this.closest("form")[0],j.name=this.attr("name")),null!=j.form)){if(b)switch(d=a.data(j.form,"validator").settings,e=d.rules,f=a.validator.staticRules(j),b){case"add":a.extend(f,a.validator.normalizeRule(c)),delete f.messages,e[j.name]=f,c.messages&&(d.messages[j.name]=a.extend(d.messages[j.name],c.messages));break;case"remove":return c?(i={},a.each(c.split(/\s/),function(a,b){i[b]=f[b],delete f[b]}),i):(delete e[j.name],f)}return g=a.validator.normalizeRules(a.extend({},a.validator.classRules(j),a.validator.attributeRules(j),a.validator.dataRules(j),a.validator.staticRules(j)),j),g.required&&(h=g.required,delete g.required,g=a.extend({required:h},g)),g.remote&&(h=g.remote,delete g.remote,g=a.extend(g,{remote:h})),g}}}),a.extend(a.expr.pseudos||a.expr[":"],{blank:function(b){return!a.trim(""+a(b).val())},filled:function(b){var c=a(b).val();return null!==c&&!!a.trim(""+c)},unchecked:function(b){return!a(b).prop("checked")}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:void 0===c?b:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),function(){return c})}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(a)))},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(b,c){var d=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===c.which&&""===this.elementValue(b)||a.inArray(c.keyCode,d)!==-1||(b.name in this.submitted||b.name in this.invalid)&&this.element(b)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}."),step:a.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function b(b){!this.form&&this.hasAttribute("contenteditable")&&(this.form=a(this).closest("form")[0],this.name=a(this).attr("name"));var c=a.data(this.form,"validator"),d="on"+b.type.replace(/^validate/,""),e=c.settings;e[d]&&!a(this).is(e.ignore)&&e[d].call(c,this,b)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c,d=this.groups={};a.each(this.settings.groups,function(b,c){"string"==typeof c&&(c=c.split(/\s/)),a.each(c,function(a,c){d[c]=b})}),c=this.settings.rules,a.each(c,function(b,d){c[b]=a.validator.normalizeRule(d)}),a(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",b).on("click.validate","select, option, [type='radio'], [type='checkbox']",b),this.settings.invalidHandler&&a(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){var c,d,e=this.clean(b),f=this.validationTargetFor(e),g=this,h=!0;return void 0===f?delete this.invalid[e.name]:(this.prepareElement(f),this.currentElements=a(f),d=this.groups[f.name],d&&a.each(this.groups,function(a,b){b===d&&a!==f.name&&(e=g.validationTargetFor(g.clean(g.findByName(a))),e&&e.name in g.invalid&&(g.currentElements.push(e),h=g.check(e)&&h))}),c=this.check(f)!==!1,h=h&&c,c?this.invalid[f.name]=!1:this.invalid[f.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),a(b).attr("aria-invalid",!c)),h},showErrors:function(b){if(b){var c=this;a.extend(this.errorMap,b),this.errorList=a.map(this.errorMap,function(a,b){return{message:a,element:c.findByName(b)[0]}}),this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var b=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(b)},resetElements:function(a){var b;if(this.settings.unhighlight)for(b=0;a[b];b++)this.settings.unhighlight.call(this,a[b],this.settings.errorClass,""),this.findByName(a[b].name).removeClass(this.settings.validClass);else a.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b,c=0;for(b in a)void 0!==a[b]&&null!==a[b]&&a[b]!==!1&&c++;return c},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(a){a.not(this.containers).text(""),this.addWrapper(a).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(a){return a.element.name===b.name}).length&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var d=this.name||a(this).attr("name");return!d&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=a(this).closest("form")[0],this.name=d),!(d in c||!b.objectLength(a(this).rules()))&&(c[d]=!0,!0)})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.split(" ").join(".");return a(this.settings.errorElement+"."+b,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([])},reset:function(){this.resetInternals(),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(b){var c,d,e=a(b),f=b.type;return"radio"===f||"checkbox"===f?this.findByName(b.name).filter(":checked").val():"number"===f&&"undefined"!=typeof b.validity?b.validity.badInput?"NaN":e.val():(c=b.hasAttribute("contenteditable")?e.text():e.val(),"file"===f?"C:\\fakepath\\"===c.substr(0,12)?c.substr(12):(d=c.lastIndexOf("/"),d>=0?c.substr(d+1):(d=c.lastIndexOf("\\"),d>=0?c.substr(d+1):c)):"string"==typeof c?c.replace(/\r/g,""):c)},check:function(b){b=this.validationTargetFor(this.clean(b));var c,d,e,f,g=a(b).rules(),h=a.map(g,function(a,b){return b}).length,i=!1,j=this.elementValue(b);if("function"==typeof g.normalizer?f=g.normalizer:"function"==typeof this.settings.normalizer&&(f=this.settings.normalizer),f){if(j=f.call(b,j),"string"!=typeof j)throw new TypeError("The normalizer should return a string value.");delete g.normalizer}for(d in g){e={method:d,parameters:g[d]};try{if(c=a.validator.methods[d].call(this,j,b,e.parameters),"dependency-mismatch"===c&&1===h){i=!0;continue}if(i=!1,"pending"===c)return void(this.toHide=this.toHide.not(this.errorsFor(b)));if(!c)return this.formatAndAdd(b,e),!1}catch(k){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+b.id+", check the '"+e.method+"' method.",k),k instanceof TypeError&&(k.message+=".  Exception occurred when checking element "+b.id+", check the '"+e.method+"' method."),k}}if(!i)return this.objectLength(g)&&this.successList.push(b),!0},customDataMessage:function(b,c){return a(b).data("msg"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase())||a(b).data("msg")},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a]},defaultMessage:function(b,c){"string"==typeof c&&(c={method:c});var d=this.findDefined(this.customMessage(b.name,c.method),this.customDataMessage(b,c.method),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c.method],"<strong>Warning: No message defined for "+b.name+"</strong>"),e=/\$?\{(\d+)\}/g;return"function"==typeof d?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),c.parameters)),d},formatAndAdd:function(a,b){var c=this.defaultMessage(a,b);this.errorList.push({message:c,element:a,method:b.method}),this.errorMap[a.name]=c,this.submitted[a.name]=c},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,b,c;for(a=0;this.errorList[a];a++)c=this.errorList[a],this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d,e,f,g,h=this.errorsFor(b),i=this.idOrName(b),j=a(b).attr("aria-describedby");h.length?(h.removeClass(this.settings.validClass).addClass(this.settings.errorClass),h.html(c)):(h=a("<"+this.settings.errorElement+">").attr("id",i+"-error").addClass(this.settings.errorClass).html(c||""),d=h,this.settings.wrapper&&(d=h.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(d):this.settings.errorPlacement?this.settings.errorPlacement.call(this,d,a(b)):d.insertAfter(b),h.is("label")?h.attr("for",i):0===h.parents("label[for='"+this.escapeCssMeta(i)+"']").length&&(f=h.attr("id"),j?j.match(new RegExp("\\b"+this.escapeCssMeta(f)+"\\b"))||(j+=" "+f):j=f,a(b).attr("aria-describedby",j),e=this.groups[b.name],e&&(g=this,a.each(g.groups,function(b,c){c===e&&a("[name='"+g.escapeCssMeta(b)+"']",g.currentForm).attr("aria-describedby",h.attr("id"))})))),!c&&this.settings.success&&(h.text(""),"string"==typeof this.settings.success?h.addClass(this.settings.success):this.settings.success(h,b)),this.toShow=this.toShow.add(h)},errorsFor:function(b){var c=this.escapeCssMeta(this.idOrName(b)),d=a(b).attr("aria-describedby"),e="label[for='"+c+"'], label[for='"+c+"'] *";return d&&(e=e+", #"+this.escapeCssMeta(d).replace(/\s+/g,", #")),this.errors().filter(e)},escapeCssMeta:function(a){return a.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(b){return this.checkable(b)&&(b=this.findByName(b.name)),a(b).not(this.settings.ignore)[0]},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){return a(this.currentForm).find("[name='"+this.escapeCssMeta(b)+"']")},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(a,b){return!this.dependTypes[typeof a]||this.dependTypes[typeof a](a,b)},dependTypes:{"boolean":function(a){return a},string:function(b,c){return!!a(b,c.form).length},"function":function(a,b){return a(b)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(b){this.pending[b.name]||(this.pendingRequest++,a(b).addClass(this.settings.pendingClass),this.pending[b.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],a(b).removeClass(this.settings.pendingClass),c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.submitButton&&a("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b,c){return c="string"==typeof c&&c||"remote",a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,{method:c})})},destroy:function(){this.resetForm(),a(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},normalizeAttributeRule:function(a,b,c,d){/min|max|step/.test(c)&&(null===b||/number|range|text/.test(b))&&(d=Number(d),isNaN(d)&&(d=void 0)),d||0===d?a[c]=d:b===c&&"range"!==b&&(a[c]=!0)},attributeRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute("type");for(c in a.validator.methods)"required"===c?(d=b.getAttribute(c),""===d&&(d=!0),d=!!d):d=f.attr(c),this.normalizeAttributeRule(e,g,c,d);return e.maxlength&&/-1|2147483647|524288/.test(e.maxlength)&&delete e.maxlength,e},dataRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute("type");for(c in a.validator.methods)d=f.data("rule"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase()),this.normalizeAttributeRule(e,g,c,d);return e},staticRules:function(b){var c={},d=a.data(b.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(e===!1)return void delete b[d];if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=void 0===e.param||e.param:(a.data(c.form,"validator").resetElements(a(c)),delete b[d])}}),a.each(b,function(d,e){b[d]=a.isFunction(e)&&"normalizer"!==d?e(c):e}),a.each(["minlength","maxlength"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength","range"],function(){var c;b[this]&&(a.isArray(b[this])?b[this]=[Number(b[this][0]),Number(b[this][1])]:"string"==typeof b[this]&&(c=b[this].replace(/[\[\]]/g,"").split(/[\s,]+/),b[this]=[Number(c[0]),Number(c[1])]))}),a.validator.autoCreateRanges&&(null!=b.min&&null!=b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),null!=b.minlength&&null!=b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b},normalizeRule:function(b){if("string"==typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!==d?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(b,c)>0:b.length>0},email:function(a,b){return this.optional(b)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)},url:function(a,b){return this.optional(b)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a).toString())},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(a)},number:function(a,b){return this.optional(b)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},minlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d},maxlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e<=d},rangelength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||a<=c},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},step:function(b,c,d){var e,f=a(c).attr("type"),g="Step attribute on input type "+f+" is not supported.",h=["text","number","range"],i=new RegExp("\\b"+f+"\\b"),j=f&&!i.test(h.join()),k=function(a){var b=(""+a).match(/(?:\.(\d+))?$/);return b&&b[1]?b[1].length:0},l=function(a){return Math.round(a*Math.pow(10,e))},m=!0;if(j)throw new Error(g);return e=k(d),(k(b)>e||l(b)%l(d)!==0)&&(m=!1),this.optional(c)||m},equalTo:function(b,c,d){var e=a(d);return this.settings.onfocusout&&e.not(".validate-equalTo-blur").length&&e.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){a(c).valid()}),b===e.val()},remote:function(b,c,d,e){if(this.optional(c))return"dependency-mismatch";e="string"==typeof e&&e||"remote";var f,g,h,i=this.previousValue(c,e);return this.settings.messages[c.name]||(this.settings.messages[c.name]={}),i.originalMessage=i.originalMessage||this.settings.messages[c.name][e],this.settings.messages[c.name][e]=i.message,d="string"==typeof d&&{url:d}||d,h=a.param(a.extend({data:b},d.data)),i.old===h?i.valid:(i.old=h,f=this,this.startRequest(c),g={},g[c.name]=b,a.ajax(a.extend(!0,{mode:"abort",port:"validate"+c.name,dataType:"json",data:g,context:f.currentForm,success:function(a){var d,g,h,j=a===!0||"true"===a;f.settings.messages[c.name][e]=i.originalMessage,j?(h=f.formSubmitted,f.resetInternals(),f.toHide=f.errorsFor(c),f.formSubmitted=h,f.successList.push(c),f.invalid[c.name]=!1,f.showErrors()):(d={},g=a||f.defaultMessage(c,{method:e,parameters:b}),d[c.name]=i.message=g,f.invalid[c.name]=!0,f.showErrors(d)),i.valid=j,f.stopRequest(c,j)}},d)),"pending")}}});var b,c={};return a.ajaxPrefilter?a.ajaxPrefilter(function(a,b,d){var e=a.port;"abort"===a.mode&&(c[e]&&c[e].abort(),c[e]=d)}):(b=a.ajax,a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return"abort"===e?(c[f]&&c[f].abort(),c[f]=b.apply(this,arguments),c[f]):b.apply(this,arguments)}),a});

 /*=========================== ED-grid 2 ======================================*/

!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).edgrid=e()}}(function(){return function u(i,l,s){function a(n,e){if(!l[n]){if(!i[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(d)return d(n,!0);var o=new Error("Cannot find module '"+n+"'");throw o.code="MODULE_NOT_FOUND",o}var r=l[n]={exports:{}};i[n][0].call(r.exports,function(e){var t=i[n][1][e];return a(t||e)},r,r.exports,u,i,l,s)}return l[n].exports}for(var d="function"==typeof require&&require,e=0;e<s.length;e++)a(s[e]);return a}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=u(e("./menu")),r=u(e("./migrate"));function u(e){return e&&e.__esModule?e:{default:e}}n.default={menu:o.default,migrate:r.default},t.exports=n.default},{"./menu":2,"./migrate":3}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var u=e("./utils");n.default=function(e,t){var n=(0,u.$)("#"+e),o=(0,u.$)("#"+t),r=(0,u.$)("#"+e+"-toggle");n?r?r.addEventListener("click",function(){n.classList.toggle("show-menu")}):console.error("Not found "+e+"-toggle Id"):console.error("Not found "+e+" Id"),o?(o.addEventListener("click",function(e){e.target.classList.contains("expand-submenu")&&(e.preventDefault(),e.target.classList.toggle("active"),e.target.previousElementSibling.classList.toggle("show-submenu"))}),(0,u.each)((0,u.$)("li",o),function(e){if(null!=e.querySelector("ul")){e.classList.add("parent-submenu");var t=document.createElement("div");t.classList.add("expand-submenu"),e.appendChild(t)}})):console.error("Not found "+t+" Id")},t.exports=n.default},{"./utils":4}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var u=e("./utils");n.default=function(){var o={grupo:"ed-container",caja:"ed-item",total:"full","hasta-tablet":"to-m","hasta-web":"to-l","hasta-hd":"to-xl","desde-tablet":"from-m","desde-web":"from-l","desde-hd":"from-xl","base-":"s-","movil-":"s-","tablet-":"m-","web-":"l-","hd-":"xl-"},e=Object.keys(o),r=new RegExp(["(^|\\s)","("+e.join("|")+")","(\\d{1,3}|\\d-\\d)?","(?!\\S)"].join(""),"g"),t=e.map(function(e){return e.endsWith("-")?'[class*="'+e+'"]':"."+e});(0,u.each)((0,u.$)(t.join()),function(e){for(var t=void 0,n="";t=r.exec(e.className);)n+=" "+(o[t[2]]+(t[3]||""));e.className+=n})},t.exports=n.default},{"./utils":4}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.$=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document;if(/^#[\w-]+$/.test(e))return t.getElementById(e.slice(1));return t.querySelectorAll(e)},n.each=function(e,t){for(var n=e.length,o=0;o<n;++o)t(e[o],o,e)}},{}]},{},[1])(1)});
 
/*============================ ImageMapster Version: 1.2.14-beta1 =================================*/   

!function(e){e(function(){function e(){}function t(t){var n=new e;return n.then=function(e){var n;try{return e&&(n=e(t)),s(n===_?t:n)}catch(i){return a(i)}},w(n)}function a(t){var n=new e;return n.then=function(e,n){var i;try{return n?(i=n(t),s(i===_?t:i)):a(t)}catch(o){return a(o)}},w(n)}function n(e){return r(e,function(e){return a(e)})}function i(){function n(e,t,a){return p(e,t,a)}function o(e){d(t(e))}function r(e){d(a(e))}function s(e){f(e)}var c,l,u,h,p,f,d;return u=[],h=[],p=function(e,t,a){var n=i();return u.push(function(a){a.then(e,t).then(n.resolve,n.reject,n.progress)}),a&&h.push(a),n.promise},f=function(e){for(var t,a=0;t=h[a++];)t(e)},d=function(e){var t,a=0;for(p=e.then,d=f=function(){throw new Error("already completed")},h=_;t=u[a++];)t(e);u=[]},c={},l=new e,l.then=c.then=n,c.promise=w(l),c.resolver=w({resolve:c.resolve=o,reject:c.reject=r,progress:c.progress=s}),c}function o(e){return e&&"function"==typeof e.then}function r(e,t,a,n){var i=s(e);return i.then(t,a,n)}function s(t){var a,n;return t instanceof e?a=t:(n=i(),o(t)?(t.then(n.resolve,n.reject,n.progress),a=n.promise):(n.resolve(t),a=n.promise)),a}function c(e,t,a,n,o){return v(2,arguments),r(e,function(e){function s(e){m(e)}function c(e){g(e)}function l(e){v(e)}function u(){m=g=v=y}var h,p,f,d,m,g,v,w,b;if(w=e.length>>>0,h=Math.max(0,Math.min(t,w)),p=[],d=i(),f=r(d,a,n,o),h)for(m=function(e){p.push(e),--h||(u(),d.resolve(p))},g=function(e){u(),d.reject(e)},v=d.progress,b=0;w>b;++b)b in e&&r(e[b],s,c,l);else d.resolve(p);return f})}function l(e,t,a,n){return v(1,arguments),r(e,function(e){return m(e,u,[])}).then(t,a,n)}function u(e,t,a){return e[a]=t,e}function h(e,t,a,n){function i(e){return t?t(e[0]):e[0]}return c(e,1,i,a,n)}function p(e,t){return r(e,function(e){return f(e,t)})}function f(e,t){var a,n,i;for(n=e.length>>>0,a=new Array(n),i=0;n>i;i++)i in e&&(a[i]=r(e[i],t));return m(a,u,a)}function d(e){var t=k.call(arguments,1);return r(e,function(e){return m.apply(_,[e].concat(t))})}function m(e,t,a){var n,i;return n=e.length,i=[function(e,a,i){return r(e,function(e){return r(a,function(a){return t(e,a,i,n)})})}],arguments.length>2&&i.push(a),b.apply(e,i)}function g(e,t,n){var i=arguments.length>2;return r(e,function(e){return i&&(e=n),t.resolve(e),e},function(e){return t.reject(e),a(e)},t.progress)}function v(e,t){for(var a,n=t.length;n>e;)if(a=t[--n],null!=a&&"function"!=typeof a)throw new Error("callback is not a function")}function y(){}var w,b,k,_;return r.defer=i,r.reject=n,r.isPromise=o,r.all=l,r.some=c,r.any=h,r.map=p,r.reduce=d,r.chain=g,w=Object.freeze||function(e){return e},e.prototype=w({always:function(e,t){return this.then(e,e,t)},otherwise:function(e){return this.then(_,e)}}),k=[].slice,b=[].reduce||function(e){var t,a,n,i,o;if(o=0,t=Object(this),i=t.length>>>0,a=arguments,a.length<=1)for(;;){if(o in t){n=t[o++];break}if(++o>=i)throw new TypeError}else n=a[1];for(;i>o;++o)o in t&&(n=e(n,t[o],o,t));return n},r})}("function"==typeof define?define:function(e){"undefined"!=typeof module?module.exports=e():jQuery.mapster_when=e()}),function($){$.fn.mapster=function(e){var t=$.mapster.impl;return $.isFunction(t[e])?t[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void $.error("Method "+e+" does not exist on jQuery.mapster"):t.bind.apply(this,arguments)},$.mapster={version:"1.2.14-beta1",render_defaults:{isSelectable:!0,isDeselectable:!0,fade:!1,fadeDuration:150,fill:!0,fillColor:"000000",fillColorMask:"FFFFFF",fillOpacity:.7,highlight:!0,stroke:!1,strokeColor:"ff0000",strokeOpacity:1,strokeWidth:1,includeKeys:"",altImage:null,altImageId:null,altImages:{}},defaults:{clickNavigate:!1,wrapClass:null,wrapCss:null,onGetList:null,sortList:!1,listenToList:!1,mapKey:"",mapValue:"",singleSelect:!1,listKey:"value",listSelectedAttribute:"selected",listSelectedClass:null,onClick:null,onMouseover:null,onMouseout:null,mouseoutDelay:0,onStateChange:null,boundList:null,onConfigured:null,configTimeout:3e4,noHrefIsMask:!0,scaleMap:!0,safeLoad:!1,areas:[]},shared_defaults:{render_highlight:{fade:!0},render_select:{fade:!1},staticState:null,selected:null},area_defaults:{includeKeys:"",isMask:!1},canvas_style:{position:"absolute",left:0,top:0,padding:0,border:0},hasCanvas:null,isTouch:null,map_cache:[],hooks:{},addHook:function(e,t){this.hooks[e]=(this.hooks[e]||[]).push(t)},callHooks:function(e,t){$.each(this.hooks[e]||[],function(e,a){a.apply(t)})},utils:{when:$.mapster_when,defer:$.mapster_when.defer,subclass:function(e,t){var a=function(){var a=this,n=Array.prototype.slice.call(arguments,0);a.base=e.prototype,a.base.init=function(){e.prototype.constructor.apply(a,n)},t.apply(a,n)};return a.prototype=new e,a.prototype.constructor=a,a},asArray:function(e){return e.constructor===Array?e:this.split(e)},split:function(e,t){var a,n,i=e.split(",");for(a=0;a<i.length;a++)n=$.trim(i[a]),""===n?i.splice(a,1):i[a]=t?t(n):n;return i},updateProps:function(e,t){var a,n=e||{},i=$.isEmptyObject(n)?t:e;return a=[],$.each(i,function(e){a.push(e)}),$.each(Array.prototype.slice.call(arguments,1),function(e,t){$.each(t||{},function(e){if(!a||$.inArray(e,a)>=0){var i=t[e];$.isPlainObject(i)?n[e]=$.extend(n[e]||{},i):i&&i.constructor===Array?n[e]=i.slice(0):"undefined"!=typeof i&&(n[e]=t[e])}})}),n},isElement:function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},indexOf:function(e,t){for(var a=0;a<e.length;a++)if(e[a]===t)return a;return-1},indexOfProp:function(e,t,a){var n=e.constructor===Array?-1:null;return $.each(e,function(e,i){return i&&(t?i[t]:i)===a?(n=e,!1):void 0}),n},boolOrDefault:function(e,t){return this.isBool(e)?e:t||!1},isBool:function(e){return"boolean"==typeof e},isUndef:function(e){return"undefined"==typeof e},ifFunction:function(e,t,a){$.isFunction(e)&&e.call(t,a)},size:function(e,t){var a=$.mapster.utils;return{width:t?e.width||e.naturalWidth:a.imgWidth(e,!0),height:t?e.height||e.naturalHeight:a.imgHeight(e,!0),complete:function(){return!!this.height&&!!this.width}}},setOpacity:function(e,t){$.mapster.hasCanvas()?e.style.opacity=t:$(e).each(function(e,a){"undefined"!=typeof a.opacity?a.opacity=t:$(a).css("opacity",t)})},fader:function(){var e={},t=0,a=function(n,i,o,r){var s,c,l=r/15,u=$.mapster.utils;if("number"==typeof n){if(c=e[n],!c)return}else s=u.indexOfProp(e,null,n),s&&delete e[s],e[++t]=c=n,n=t;o=o||1,i=i+o/l>o-.01?o:i+o/l,u.setOpacity(c,i),o>i&&setTimeout(function(){a(n,i,o,r)},15)};return a}()},getBoundList:function(e,t){if(!e.boundList)return null;var a,n,i=$(),o=$.mapster.utils.split(t);return e.boundList.each(function(t,r){for(a=0;a<o.length;a++)n=o[a],$(r).is("["+e.listKey+'="'+n+'"]')&&(i=i.add(r))}),i},setBoundListProperties:function(e,t,a){t.each(function(t,n){e.listSelectedClass&&(a?$(n).addClass(e.listSelectedClass):$(n).removeClass(e.listSelectedClass)),e.listSelectedAttribute&&$(n).attr(e.listSelectedAttribute,a)})},getMapDataIndex:function(e){var t,a;switch(e.tagName&&e.tagName.toLowerCase()){case"area":a=$(e).parent().attr("name"),t=$("img[usemap='#"+a+"']")[0];break;case"img":t=e}return t?this.utils.indexOfProp(this.map_cache,"image",t):-1},getMapData:function(e){var t=this.getMapDataIndex(e.length?e[0]:e);return t>=0?t>=0?this.map_cache[t]:null:void 0},queueCommand:function(e,t,a,n){return e&&(!e.complete||e.currentAction)?(e.commands.push({that:t,command:a,args:n}),!0):!1},unload:function(){this.impl.unload(),this.utils=null,this.impl=null,$.fn.mapster=null,$.mapster=null,$("*").unbind()}};var m=$.mapster,u=m.utils,ap=Array.prototype;$.each(["width","height"],function(e,t){var a=t.substr(0,1).toUpperCase()+t.substr(1);u["img"+a]=function(e,n){return(n?$(e)[t]():0)||e[t]||e["natural"+a]||e["client"+a]||e["offset"+a]}}),m.Method=function(e,t,a,n){var i=this;i.name=n.name,i.output=e,i.input=e,i.first=n.first||!1,i.args=n.args?ap.slice.call(n.args,0):[],i.key=n.key,i.func_map=t,i.func_area=a,i.name=n.name,i.allowAsync=n.allowAsync||!1},m.Method.prototype={constructor:m.Method,go:function(){var e,t,a,n,i,o=this.input,r=[],s=this;for(n=o.length,e=0;n>e;e++)if(t=$.mapster.getMapData(o[e])){if(!s.allowAsync&&m.queueCommand(t,s.input,s.name,s.args)){this.first&&(i="");continue}if(a=t.getData("AREA"===o[e].nodeName?o[e]:this.key),a?$.inArray(a,r)<0&&r.push(a):i=this.func_map.apply(t,s.args),this.first||"undefined"!=typeof i)break}return $(r).each(function(e,t){i=s.func_area.apply(t,s.args)}),"undefined"!=typeof i?i:this.output}},$.mapster.impl=function(){function hasVml(){var e=$("<div />").appendTo("body");e.html('<v:shape id="vml_flag1" adj="1" />');var t=e[0].firstChild;t.style.behavior="url(#default#VML)";var a=t?"object"==typeof t.adj:!0;return e.remove(),a}function namespaces(){return"object"==typeof document.namespaces?document.namespaces:null}function hasCanvas(){var e=namespaces();return e&&e.g_vml_?!1:!!$("<canvas />")[0].getContext}function merge_areas(e,t){var a,n,i=e.options.areas;t&&$.each(t,function(t,o){o&&o.key&&(n=u.indexOfProp(i,"key",o.key),n>=0?$.extend(i[n],o):i.push(o),a=e.getDataForKey(o.key),a&&$.extend(a.options,o))})}function merge_options(e,t){var a=u.updateProps({},t);delete a.areas,u.updateProps(e.options,a),merge_areas(e,t.areas),u.updateProps(e.area_options,e.options)}var me={},addMap=function(e){return m.map_cache.push(e)-1},removeMap=function(e){m.map_cache.splice(e.index,1);for(var t=m.map_cache.length-1;t>=this.index;t--)m.map_cache[t].index--};return me.get=function(e){var t=m.getMapData(this);if(!t||!t.complete)throw"Can't access data until binding complete.";return new m.Method(this,function(){return this.getSelected()},function(){return this.isSelected()},{name:"get",args:arguments,key:e,first:!0,allowAsync:!0,defaultReturn:""}).go()},me.data=function(e){return new m.Method(this,null,function(){return this},{name:"data",args:arguments,key:e}).go()},me.highlight=function(e){return new m.Method(this,function(){if(e!==!1){var t=this.highlightId;return t>=0?this.data[t].key:null}this.ensureNoHighlight()},function(){this.highlight()},{name:"highlight",args:arguments,key:e,first:!0}).go()},me.keys=function(e,t){function a(e){var a,i=[];t?(a=e.areas(),$.each(a,function(e,t){i=i.concat(t.keys)})):i.push(e.key),$.each(i,function(e,t){$.inArray(t,n)<0&&n.push(t)})}var n=[],i=m.getMapData(this);if(!i||!i.complete)throw"Can't access data until binding complete.";return i&&i.complete?("string"==typeof e?t?a(i.getDataForKey(e)):n=[i.getKeysForGroup(e)]:(t=e,this.each(function(e,t){"AREA"===t.nodeName&&a(i.getDataForArea(t))})),n.join(",")):""},me.select=function(){me.set.call(this,!0)},me.deselect=function(){me.set.call(this,!1)},me.set=function(e,t,a){function n(t){var a=e;if(t){switch(e){case!0:t.select(h);break;case!1:t.deselect(!0);break;default:a=t.toggle(h)}return a}}function i(e){e&&$.inArray(e,l)<0&&(l.push(e),c+=(""===c?"":",")+e.key)}function o(t){$.each(l,function(e,a){var i=n(a);t.options.boundList&&m.setBoundListProperties(t.options,m.getBoundList(t.options,c),i)}),e||t.removeSelectionFinish()}var r,s,c,l,h=a;return this.filter("img,area").each(function(a,n){var p;s=m.getMapData(n),s!==r&&(r&&o(r),l=[],c=""),s&&(p="","IMG"===n.nodeName.toUpperCase()?m.queueCommand(s,$(n),"set",[e,t,h])||(t instanceof Array?t.length&&(p=t.join(",")):p=t,p&&$.each(u.split(p),function(e,t){i(s.getDataForKey(t.toString())),r=s})):(h=t,m.queueCommand(s,$(n),"set",[e,h])||(i(s.getDataForArea(n)),r=s)))}),s&&o(s),this},me.unbind=function(e){return new m.Method(this,function(){this.clearEvents(),this.clearMapData(e),removeMap(this)},null,{name:"unbind",args:arguments}).go()},me.rebind=function(e){return new m.Method(this,function(){var t=this;t.complete=!1,t.configureOptions(e),t.bindImages().then(function(){t.buildDataset(!0),t.complete=!0})},null,{name:"rebind",args:arguments}).go()},me.get_options=function(e,t){var a=u.isBool(e)?e:t;return new m.Method(this,function(){var e=$.extend({},this.options);return a&&(e.render_select=u.updateProps({},m.render_defaults,e,e.render_select),e.render_highlight=u.updateProps({},m.render_defaults,e,e.render_highlight)),e},function(){return a?this.effectiveOptions():this.options},{name:"get_options",args:arguments,first:!0,allowAsync:!0,key:e}).go()},me.set_options=function(e){return new m.Method(this,function(){merge_options(this,e)},null,{name:"set_options",args:arguments}).go()},me.unload=function(){var e;for(e=m.map_cache.length-1;e>=0;e--)m.map_cache[e]&&me.unbind.call($(m.map_cache[e].image));me.graphics=null},me.snapshot=function(){return new m.Method(this,function(){$.each(this.data,function(e,t){t.selected=!1}),this.base_canvas=this.graphics.createVisibleCanvas(this),$(this.image).before(this.base_canvas)},null,{name:"snapshot"}).go()},me.state=function(){var e,t=null;return $(this).each(function(a,n){return"IMG"===n.nodeName?(e=m.getMapData(n),e&&(t=e.state()),!1):void 0}),t},me.bind=function(e){return this.each(function(t,a){var n,i,o,r;if(n=$(a),r=m.getMapData(a)){if(me.unbind.apply(n),!r.complete)return n.bind(),!0;r=null}return o=this.getAttribute("usemap"),i=o&&$('map[name="'+o.substr(1)+'"]'),n.is("img")&&o&&i.length>0?(n.css("border",0),void(r||(r=new m.MapData(this,e),r.index=addMap(r),r.map=i,r.bindImages().then(function(){r.initialize()})))):!0})},me.init=function(e){var t,a;m.hasCanvas=function(){return u.isBool(m.hasCanvas.value)||(m.hasCanvas.value=u.isBool(e)?e:hasCanvas()),m.hasCanvas.value},m.hasVml=function(){if(!u.isBool(m.hasVml.value)){var e=namespaces();e&&!e.v&&(e.add("v","urn:schemas-microsoft-com:vml"),t=document.createStyleSheet(),a=["shape","rect","oval","circ","fill","stroke","imagedata","group","textbox"],$.each(a,function(e,a){t.addRule("v\\:"+a,"behavior: url(#default#VML); antialias:true")})),m.hasVml.value=hasVml()}return m.hasVml.value},m.isTouch=!!document.documentElement.ontouchstart,u.indexOf=Array.prototype.indexOf||u.indexOf,$.extend(m.defaults,m.render_defaults,m.shared_defaults),$.extend(m.area_defaults,m.render_defaults,m.shared_defaults)},me.test=function(obj){return eval(obj)},me}(),$.mapster.impl.init()}(jQuery),function(e){function t(t,a,n){var i=t,o=i.map_data,r=n.isMask;e.each(a.areas(),function(e,t){n.isMask=r||t.nohref&&o.options.noHrefIsMask,i.addShape(t,n)}),n.isMask=r}function a(e){return Math.max(0,Math.min(parseInt(e,16),255))}function n(e,t){return"rgba("+a(e.substr(0,2))+","+a(e.substr(2,2))+","+a(e.substr(4,2))+","+t+")"}function i(){}var o,r,s,c=e.mapster,l=c.utils;c.Graphics=function(e){var t=this;t.active=!1,t.canvas=null,t.width=0,t.height=0,t.shapes=[],t.masks=[],t.map_data=e},o=c.Graphics.prototype={constructor:c.Graphics,begin:function(t,a){var n=e(t);this.elementName=a,this.canvas=t,this.width=n.width(),this.height=n.height(),this.shapes=[],this.masks=[],this.active=!0},addShape:function(e,t){var a=t.isMask?this.masks:this.shapes;a.push({mapArea:e,options:t})},createVisibleCanvas:function(t){return e(this.createCanvasFor(t)).addClass("mapster_el").css(c.canvas_style)[0]},addShapeGroup:function(a,n,i){var o,r,s,u=this,h=this.map_data,p=a.effectiveRenderOptions(n);i&&e.extend(p,i),"select"===n?(r="static_"+a.areaId.toString(),s=h.base_canvas):s=h.overlay_canvas,u.begin(s,r),p.includeKeys&&(o=l.split(p.includeKeys),e.each(o,function(e,a){var i=h.getDataForKey(a.toString());t(u,i,i.effectiveRenderOptions(n))})),t(u,a,p),u.render(),p.fade&&l.fader(c.hasCanvas()?s:e(s).find("._fill").not(".mapster_mask"),0,c.hasCanvas()?1:p.fillOpacity,p.fadeDuration)}},r={renderShape:function(e,t,a){var n,i=t.coords(null,a);switch(t.shape){case"rect":e.rect(i[0],i[1],i[2]-i[0],i[3]-i[1]);break;case"poly":for(e.moveTo(i[0],i[1]),n=2;n<t.length;n+=2)e.lineTo(i[n],i[n+1]);e.lineTo(i[0],i[1]);break;case"circ":case"circle":e.arc(i[0],i[1],i[2],0,2*Math.PI,!1)}},addAltImage:function(e,t,a,n){e.beginPath(),this.renderShape(e,a),e.closePath(),e.clip(),e.globalAlpha=n.altImageOpacity||n.fillOpacity,e.drawImage(t,0,0,a.owner.scaleInfo.width,a.owner.scaleInfo.height)},render:function(){var t,a,i=this,o=i.map_data,r=i.masks.length,s=i.createCanvasFor(o),c=s.getContext("2d"),l=i.canvas.getContext("2d");return r&&(t=i.createCanvasFor(o),a=t.getContext("2d"),a.clearRect(0,0,t.width,t.height),e.each(i.masks,function(e,t){a.save(),a.beginPath(),i.renderShape(a,t.mapArea),a.closePath(),a.clip(),a.lineWidth=0,a.fillStyle="#000",a.fill(),a.restore()})),e.each(i.shapes,function(e,t){c.save(),t.options.fill&&(t.options.altImageId?i.addAltImage(c,o.images[t.options.altImageId],t.mapArea,t.options):(c.beginPath(),i.renderShape(c,t.mapArea),c.closePath(),c.fillStyle=n(t.options.fillColor,t.options.fillOpacity),c.fill())),c.restore()}),e.each(i.shapes.concat(i.masks),function(e,t){var a=1===t.options.strokeWidth?.5:0;t.options.stroke&&(c.save(),c.strokeStyle=n(t.options.strokeColor,t.options.strokeOpacity),c.lineWidth=t.options.strokeWidth,c.beginPath(),i.renderShape(c,t.mapArea,a),c.closePath(),c.stroke(),c.restore())}),r?(a.globalCompositeOperation="source-out",a.drawImage(s,0,0),l.drawImage(t,0,0)):l.drawImage(s,0,0),i.active=!1,i.canvas},createCanvasFor:function(t){return e('<canvas width="'+t.scaleInfo.width+'" height="'+t.scaleInfo.height+'"></canvas>')[0]},clearHighlight:function(){var e=this.map_data.overlay_canvas;e.getContext("2d").clearRect(0,0,e.width,e.height)},refreshSelections:function(){var t,a=this.map_data;t=a.base_canvas,a.base_canvas=this.createVisibleCanvas(a),e(a.base_canvas).hide(),e(t).before(a.base_canvas),a.redrawSelections(),e(a.base_canvas).show(),e(t).remove()}},s={renderShape:function(t,a,n){var i,o,r,s,c,l,u,h=this,p=t.coords();switch(c=h.elementName?'name="'+h.elementName+'" ':"",l=n?'class="'+n+'" ':"",s='<v:fill color="#'+a.fillColor+'" class="_fill" opacity="'+(a.fill?a.fillOpacity:0)+'" /><v:stroke class="_fill" opacity="'+a.strokeOpacity+'"/>',o=a.stroke?" strokeweight="+a.strokeWidth+' stroked="t" strokecolor="#'+a.strokeColor+'"':' stroked="f"',i=a.fill?' filled="t"':' filled="f"',t.shape){case"rect":u="<v:rect "+l+c+i+o+' style="zoom:1;margin:0;padding:0;display:block;position:absolute;left:'+p[0]+"px;top:"+p[1]+"px;width:"+(p[2]-p[0])+"px;height:"+(p[3]-p[1])+'px;">'+s+"</v:rect>";break;case"poly":u="<v:shape "+l+c+i+o+' coordorigin="0,0" coordsize="'+h.width+","+h.height+'" path="m '+p[0]+","+p[1]+" l "+p.slice(2).join(",")+' x e" style="zoom:1;margin:0;padding:0;display:block;position:absolute;top:0px;left:0px;width:'+h.width+"px;height:"+h.height+'px;">'+s+"</v:shape>";break;case"circ":case"circle":u="<v:oval "+l+c+i+o+' style="zoom:1;margin:0;padding:0;display:block;position:absolute;left:'+(p[0]-p[2])+"px;top:"+(p[1]-p[2])+"px;width:"+2*p[2]+"px;height:"+2*p[2]+'px;">'+s+"</v:oval>"}return r=e(u),e(h.canvas).append(r),r},render:function(){var t,a=this;return e.each(this.shapes,function(e,t){a.renderShape(t.mapArea,t.options)}),this.masks.length&&e.each(this.masks,function(e,n){t=l.updateProps({},n.options,{fillOpacity:1,fillColor:n.options.fillColorMask}),a.renderShape(n.mapArea,t,"mapster_mask")}),this.active=!1,this.canvas},createCanvasFor:function(t){var a=t.scaleInfo.width,n=t.scaleInfo.height;return e('<var width="'+a+'" height="'+n+'" style="zoom:1;overflow:hidden;display:block;width:'+a+"px;height:"+n+'px;"></var>')[0]},clearHighlight:function(){e(this.map_data.overlay_canvas).children().remove()},removeSelections:function(t){t>=0?e(this.map_data.base_canvas).find('[name="static_'+t.toString()+'"]').remove():e(this.map_data.base_canvas).children().remove()}},e.each(["renderShape","addAltImage","render","createCanvasFor","clearHighlight","removeSelections","refreshSelections"],function(e,t){o[t]=function(e){return function(){return o[e]=(c.hasCanvas()?r[e]:s[e])||i,o[e].apply(this,arguments)}}(t)})}(jQuery),function(e){var t=e.mapster,a=t.utils,n=[];t.MapImages=function(e){this.owner=e,this.clear()},t.MapImages.prototype={constructor:t.MapImages,slice:function(){return n.slice.apply(this,arguments)},splice:function(){n.slice.apply(this.status,arguments);var e=n.slice.apply(this,arguments);return e},complete:function(){return e.inArray(!1,this.status)<0},_add:function(e){var t=n.push.call(this,e)-1;return this.status[t]=!1,t},indexOf:function(e){return a.indexOf(this,e)},clear:function(){var t=this;t.ids&&t.ids.length>0&&e.each(t.ids,function(e,a){delete t[a]}),t.ids=[],t.length=0,t.status=[],t.splice(0)},add:function(t,a){var n,i,o=this;if(t){if("string"==typeof t){if(i=t,t=o[i],"object"==typeof t)return o.indexOf(t);t=e("<img />").addClass("mapster_el").hide(),n=o._add(t[0]),t.bind("load",function(e){o.imageLoaded.call(o,e)}).bind("error",function(e){o.imageLoadError.call(o,e)}),t.attr("src",i)}else n=o._add(e(t)[0]);if(a){if(this[a])throw a+" is already used or is not available as an altImage alias.";o.ids.push(a),o[a]=o[n]}return n}},bind:function(){var e,t=this,n=t.owner.options.configTimeout/200,i=function(){var e;for(e=t.length;e-- >0&&t.isLoaded(e););t.complete()?t.resolve():n-- >0?t.imgTimeout=window.setTimeout(function(){i.call(t,!0)},50):t.imageLoadError.call(t)};return e=t.deferred=a.defer(),i(),e},resolve:function(){var e=this,t=e.deferred;t&&(e.deferred=null,t.resolve())},imageLoaded:function(t){var a=this,n=a.indexOf(t.target);n>=0&&(a.status[n]=!0,e.inArray(!1,a.status)<0&&a.resolve())},imageLoadError:function(e){clearTimeout(this.imgTimeout),this.triesLeft=0;var t=e?"The image "+e.target.src+" failed to load.":"The images never seemed to finish loading. You may just need to increase the configTimeout if images could take a long time to load.";throw t},isLoaded:function(e){var t,n=this,i=n.status;return i[e]?!0:(t=n[e],"undefined"!=typeof t.complete?i[e]=t.complete:i[e]=!!a.imgWidth(t),i[e])}}}(jQuery),function(e){function t(t){e.extend(t,{complete:!1,map:null,base_canvas:null,overlay_canvas:null,commands:[],data:[],mapAreas:[],_xref:{},highlightId:-1,currentAreaId:-1,_tooltip_events:[],scaleInfo:null,index:-1,activeAreaEvent:null})}function a(e){return[e,e.render_highlight,e.render_select]}function n(t){var n=t.options,i=t.images;u.hasCanvas()&&(e.each(n.altImages||{},function(e,t){i.add(t,e)}),e.each([n].concat(n.areas),function(t,n){e.each(a(n),function(e,t){t&&t.altImage&&(t.altImageId=i.add(t.altImage))})})),t.area_options=h.updateProps({},u.area_defaults,n)}function i(e,t,a,n){function o(t){e.currentAreaId!==t&&e.highlightId>=0&&n.resolve()}return n=n||h.when.defer(),e.activeAreaEvent&&(window.clearTimeout(e.activeAreaEvent),e.activeAreaEvent=0),0>t?n.reject():a.owner.currentAction||t?e.activeAreaEvent=window.setTimeout(function(){return function(){i(e,0,a,n)}}(a),t||100):o(a.areaId),n}function o(e){u.hasCanvas()||this.blur(),e.preventDefault()}function r(t,a){var n=t.getAllDataForArea(this),i=n.length?n[0]:null;!i||i.isNotRendered()||i.owner.currentAction||t.currentAreaId!==i.areaId&&(t.highlightId!==i.areaId&&(t.clearEffects(),i.highlight(),t.options.showToolTip&&e.each(n,function(e,t){t.effectiveOptions().toolTip&&t.showToolTip()})),t.currentAreaId=i.areaId,e.isFunction(t.options.onMouseover)&&t.options.onMouseover.call(this,{e:a,options:i.effectiveOptions(),key:i.key,selected:i.isSelected()}))}function s(t,a){var n,o=t.getDataForArea(this),r=t.options;t.currentAreaId<0||!o||(n=t.getDataForArea(a.relatedTarget),n!==o&&(t.currentAreaId=-1,o.area=null,i(t,r.mouseoutDelay,o).then(t.clearEffects),e.isFunction(r.onMouseout)&&r.onMouseout.call(this,{e:a,options:r,key:o.key,selected:o.isSelected()})))}function c(t){var a=t.options;t.ensureNoHighlight(),a.toolTipClose&&e.inArray("area-mouseout",a.toolTipClose)>=0&&t.activeToolTip&&t.clearToolTip()}function l(t,a){function n(o){var d,g;if(l=o.isSelectable()&&(o.isDeselectable()||!o.isSelected()),c=l?!o.isSelected():o.isSelected(),s=u.getBoundList(m,o.key),e.isFunction(m.onClick)&&(p=m.onClick.call(f,{e:a,listTarget:s,key:o.key,selected:c}),h.isBool(p))){if(!p)return!1;if(g=e(o.area).attr("href"),"#"!==g)return window.location.href=g,!1}l&&(i=o.toggle()),m.boundList&&m.boundList.length>0&&u.setBoundListProperties(m,s,o.isSelected()),d=o.effectiveOptions(),d.includeKeys&&(r=h.split(d.includeKeys),e.each(r,function(e,a){var i=t.getDataForKey(a.toString());i.options.isMask||n(i)}))}var i,r,s,c,l,p,f=this,d=t.getDataForArea(this),m=t.options;return o.call(this,a),m.clickNavigate&&d.href?void(window.location.href=d.href):void(d&&!d.owner.currentAction&&(m=t.options,n(d)))}var u=e.mapster,h=u.utils;u.MapData=function(e,a){var n=this;n.image=e,n.images=new u.MapImages(n),n.graphics=new u.Graphics(n),n.imgCssText=e.style.cssText||null,t(n),n.configureOptions(a),n.mouseover=function(e){r.call(this,n,e)},n.mouseout=function(e){s.call(this,n,e)},n.click=function(e){l.call(this,n,e)},n.clearEffects=function(e){c.call(this,n,e)}},u.MapData.prototype={constructor:u.MapData,configureOptions:function(e){this.options=h.updateProps({},u.defaults,e)},bindImages:function(){var e=this,t=e.images;return t.length>2?t.splice(2):0===t.length&&(t.add(e.image),t.add(e.image.src)),n(e),e.images.bind()},isActive:function(){return!this.complete||this.currentAction},state:function(){return{complete:this.complete,resizing:"resizing"===this.currentAction,zoomed:this.zoomed,zoomedArea:this.zoomedArea,scaleInfo:this.scaleInfo}},wrapId:function(){return"mapster_wrap_"+this.index},_idFromKey:function(e){return"string"==typeof e&&this._xref.hasOwnProperty(e)?this._xref[e]:-1},getSelected:function(){var t="";return e.each(this.data,function(e,a){a.isSelected()&&(t+=(t?",":"")+this.key)}),t},getAllDataForArea:function(t,a){var n,i,o,r=this,s=e(t).filter("area").attr(r.options.mapKey);if(s)for(o=[],s=h.split(s),n=0;n<(a||s.length);n++)i=r.data[r._idFromKey(s[n])],i.area=t.length?t[0]:t,o.push(i);return o},getDataForArea:function(e){var t=this.getAllDataForArea(e,1);return t?t[0]||null:null},getDataForKey:function(e){return this.data[this._idFromKey(e)]},getKeysForGroup:function(e){var t=this.getDataForKey(e);return t?t.isPrimary?t.key:this.getPrimaryKeysForMapAreas(t.areas()).join(","):""},getPrimaryKeysForMapAreas:function(t){var a=[];return e.each(t,function(t,n){e.inArray(n.keys[0],a)<0&&a.push(n.keys[0])}),a},getData:function(e){return"string"==typeof e?this.getDataForKey(e):e&&e.mapster||h.isElement(e)?this.getDataForArea(e):null},ensureNoHighlight:function(){var e;this.highlightId>=0&&(this.graphics.clearHighlight(),e=this.data[this.highlightId],e.changeState("highlight",!1),this.setHighlightId(-1))},setHighlightId:function(e){this.highlightId=e},clearSelections:function(){e.each(this.data,function(e,t){t.selected&&t.deselect(!0)}),this.removeSelectionFinish()},setAreaOptions:function(e){var t,a,n;for(e=e||[],t=e.length-1;t>=0;t--)a=e[t],a&&(n=this.getDataForKey(a.key),n&&(h.updateProps(n.options,a),h.isBool(a.selected)&&(n.selected=a.selected)))},drawSelections:function(e){var t,a=h.asArray(e);for(t=a.length-1;t>=0;t--)this.data[a[t]].drawSelection()},redrawSelections:function(){e.each(this.data,function(e,t){t.isSelectedOrStatic()&&t.drawSelection()})},initialize:function(){var t,a,n,i,o,r,s,c,l,p,f,d,m=this,g=m.options;if(!m.complete){for(l=e(m.image),o=l.parent().attr("id"),o&&o.length>=12&&"mapster_wrap"===o.substring(0,12)?(i=l.parent(),i.attr("id",m.wrapId())):(i=e('<div id="'+m.wrapId()+'"></div>'),g.wrapClass&&(g.wrapClass===!0?i.addClass(l[0].className):i.addClass(g.wrapClass))),m.wrapper=i,m.scaleInfo=d=h.scaleMap(m.images[0],m.images[1],g.scaleMap),m.base_canvas=a=m.graphics.createVisibleCanvas(m),m.overlay_canvas=n=m.graphics.createVisibleCanvas(m),t=e(m.images[1]).addClass("mapster_el "+m.images[0].className).attr({id:null,usemap:null}),c=h.size(m.images[0]),c.complete&&t.css({width:c.width,height:c.height}),m.buildDataset(),r={display:"block",position:"relative",padding:0,width:d.width,height:d.height},g.wrapCss&&e.extend(r,g.wrapCss),l.parent()[0]!==m.wrapper[0]&&l.before(m.wrapper),i.css(r),e(m.images.slice(2)).hide(),s=1;s<m.images.length;s++)i.append(m.images[s]);i.append(a).append(n).append(l.css(u.canvas_style)),h.setOpacity(m.images[0],0),e(m.images[1]).show(),h.setOpacity(m.images[1],1),g.isSelectable&&g.onGetList&&(f=m.data.slice(0),g.sortList&&(p="desc"===g.sortList?function(e,t){return e===t?0:e>t?-1:1}:function(e,t){return e===t?0:t>e?-1:1},f.sort(function(e,t){return e=e.value,t=t.value,p(e,t)})),m.options.boundList=g.onGetList.call(m.image,f)),m.complete=!0,m.processCommandQueue(),g.onConfigured&&"function"==typeof g.onConfigured&&g.onConfigured.call(l,!0)}},buildDataset:function(t){function a(e,t){var a=new u.AreaData(w,e,t);return a.areaId=w._xref[e]=w.data.push(a)-1,a.areaId}var n,i,o,r,s,c,l,h,p,f,d,m,g,v,y,w=this,b=w.options;for(w._xref={},w.data=[],t||(w.mapAreas=[]),y=!b.mapKey,y&&(b.mapKey="data-mapster-key"),n=u.hasVml()?"area":y?"area[coords]":"area["+b.mapKey+"]",i=e(w.map).find(n).unbind(".mapster"),d=0;d<i.length;d++)if(r=0,c=i[d],s=e(c),c.coords){for(y?(l=String(d),s.attr("data-mapster-key",l)):l=c.getAttribute(b.mapKey),t?(h=w.mapAreas[s.data("mapster")-1],h.configure(l)):(h=new u.MapArea(w,c,l),w.mapAreas.push(h)),f=h.keys,o=f.length-1;o>=0;o--)p=f[o],b.mapValue&&(m=s.attr(b.mapValue)),y?(r=a(w.data.length,m),g=w.data[r],g.key=p=r.toString()):(r=w._xref[p],r>=0?(g=w.data[r],m&&!w.data[r].value&&(g.value=m)):(r=a(p,m),g=w.data[r],g.isPrimary=0===o)),h.areaDataXref.push(r),g.areasXref.push(d);v=s.attr("href"),v&&"#"!==v&&!g.href&&(g.href=v),h.nohref||s.bind("click.mapster",w.click).bind("mouseover.mapster, touchstart.mapster",w.mouseover).bind("mouseout.mapster, touchend.mapster",w.mouseout).bind("mousedown.mapster",w.mousedown),s.data("mapster",d+1)}w.setAreaOptions(b.areas),w.redrawSelections()},processCommandQueue:function(){for(var e,t=this;!t.currentAction&&t.commands.length;)e=t.commands[0],t.commands.splice(0,1),u.impl[e.command].apply(e.that,e.args)},clearEvents:function(){e(this.map).find("area").unbind(".mapster"),e(this.images).unbind(".mapster")},_clearCanvases:function(t){t||e(this.base_canvas).remove(),e(this.overlay_canvas).remove()},clearMapData:function(t){var a=this;this._clearCanvases(t),e.each(this.data,function(e,t){t.reset()}),this.data=null,t||(this.image.style.cssText=this.imgCssText,e(this.wrapper).before(this.image).remove()),a.images.clear(),this.image=null,h.ifFunction(this.clearTooltip,this)},removeSelectionFinish:function(){var e=this.graphics;e.refreshSelections(),e.clearHighlight()}}}(jQuery),function(e){function t(t){var a=this,n=a.owner;n.options.singleSelect&&n.clearSelections(),a.isSelected()||(t&&(a.optsCache=e.extend(a.effectiveRenderOptions("select"),t,{altImageId:n.images.add(t.altImage)})),a.drawSelection(),a.selected=!0,a.changeState("select",!0)),n.options.singleSelect&&n.graphics.refreshSelections()}function a(e){var t=this;t.selected=!1,t.changeState("select",!1),t.optsCache=null,t.owner.graphics.removeSelections(t.areaId),e||t.owner.removeSelectionFinish()}function n(e){var t=this;return t.isSelected()?t.deselect():t.select(e),t.isSelected()}var i=e.mapster,o=i.utils;i.AreaData=function(t,a,n){e.extend(this,{owner:t,key:a||"",isPrimary:!0,areaId:-1,href:"",value:n||"",options:{},selected:null,areasXref:[],area:null,optsCache:null})},i.AreaData.prototype={constuctor:i.AreaData,select:t,deselect:a,toggle:n,areas:function(){var e,t=[];for(e=0;e<this.areasXref.length;e++)t.push(this.owner.mapAreas[this.areasXref[e]]);return t},coords:function(t){var a=[];return e.each(this.areas(),function(e,n){a=a.concat(n.coords(t))}),a},reset:function(){e.each(this.areas(),function(e,t){t.reset()}),this.areasXref=[],this.options=null},isSelectedOrStatic:function(){var e=this.effectiveOptions();return o.isBool(e.staticState)?e.staticState:this.isSelected()},isSelected:function(){return o.isBool(this.selected)?this.selected:o.isBool(this.owner.area_options.selected)?this.owner.area_options.selected:!1},isSelectable:function(){return o.isBool(this.effectiveOptions().staticState)?!1:o.isBool(this.owner.options.staticState)?!1:o.boolOrDefault(this.effectiveOptions().isSelectable,!0)},isDeselectable:function(){return o.isBool(this.effectiveOptions().staticState)?!1:o.isBool(this.owner.options.staticState)?!1:o.boolOrDefault(this.effectiveOptions().isDeselectable,!0)},isNotRendered:function(){var t=e(this.area);return t.attr("nohref")||!t.attr("href")||this.effectiveOptions().isMask},effectiveOptions:function(e){var t=o.updateProps({},this.owner.area_options,this.options,e||{},{id:this.areaId});return t.selected=this.isSelected(),t},effectiveRenderOptions:function(t,a){var n,i=this.optsCache;return i&&"highlight"!==t||(n=this.effectiveOptions(a),i=o.updateProps({},n,n["render_"+t]),"highlight"!==t&&(this.optsCache=i)),e.extend({},i)},changeState:function(t,a){e.isFunction(this.owner.options.onStateChange)&&this.owner.options.onStateChange.call(this.owner.image,{key:this.key,state:t,selected:a})},highlight:function(e){
var t=this.owner;this.effectiveOptions().highlight&&t.graphics.addShapeGroup(this,"highlight",e),t.setHighlightId(this.areaId),this.changeState("highlight",!0)},drawSelection:function(){this.owner.graphics.addShapeGroup(this,"select")}},i.MapArea=function(t,a,n){if(t){var i=this;i.owner=t,i.area=a,i.areaDataXref=[],i.originalCoords=[],e.each(o.split(a.coords),function(e,t){i.originalCoords.push(parseFloat(t))}),i.length=i.originalCoords.length,i.shape=a.shape.toLowerCase(),i.nohref=a.nohref||!a.href,i.configure(n)}},i.MapArea.prototype={constructor:i.MapArea,configure:function(e){this.keys=o.split(e)},reset:function(){this.area=null},coords:function(t){return e.map(this.originalCoords,function(e){return t?e:e+t})}}}(jQuery),function(e){var t=e.mapster.utils;t.areaCorners=function(a,n,i,o,r){var s,c,l,u,h,p,f,d,m,g,v,y,w,b,k,_,C,A,I,S,x=0,T=0,M=[];for(a=a.length?a:[a],i=e(i?i:document.body),s=i.offset(),k=s.left,_=s.top,n&&(s=e(n).offset(),x=s.left,T=s.top),b=0;b<a.length;b++)if(S=a[b],"AREA"===S.nodeName){switch(C=t.split(S.coords,parseInt),S.shape){case"circle":for(v=C[0],y=C[1],A=C[2],M=[],b=0;360>b;b+=20)I=b*Math.PI/180,M.push(v+A*Math.cos(I),y+A*Math.sin(I));break;case"rect":M.push(C[0],C[1],C[2],C[1],C[2],C[3],C[0],C[3]);break;default:M=M.concat(C)}for(b=0;b<M.length;b+=2)M[b]=parseInt(M[b],10)+x,M[b+1]=parseInt(M[b+1],10)+T}else S=e(S),s=S.position(),M.push(s.left,s.top,s.left+S.width(),s.top,s.left+S.width(),s.top+S.height(),s.left,s.top+S.height());for(l=u=f=m=999999,h=p=d=g=-1,b=M.length-2;b>=0;b-=2)v=M[b],y=M[b+1],l>v&&(l=v,g=y),v>h&&(h=v,m=y),u>y&&(u=y,d=v),y>p&&(p=y,f=v);return o&&r&&(c=!1,e.each([[d-o,u-r],[f,u-r],[l-o,g-r],[l-o,m],[h,g-r],[h,m],[d-o,p],[f,p]],function(e,t){return!c&&t[0]>k&&t[1]>_?(w=t,c=!0,!1):void 0}),c||(w=[h,p])),w}}(jQuery),function(e){var t=e.mapster,a=t.utils,n=t.MapArea.prototype;t.utils.getScaleInfo=function(e,t){var a;return t?(a=e.width/t.width||e.height/t.height,a>.98&&1.02>a&&(a=1)):(a=1,t=e),{scale:1!==a,scalePct:a,realWidth:t.width,realHeight:t.height,width:e.width,height:e.height,ratio:e.width/e.height}},t.utils.scaleMap=function(e,t,n){var i=a.size(e),o=a.size(t,!0);if(!o.complete())throw"Another script, such as an extension, appears to be interfering with image loading. Please let us know about this.";return i.complete()||(i=o),this.getScaleInfo(i,n?o:null)},t.MapData.prototype.resize=function(n,i,o,r){function s(a,n,i){t.hasCanvas()?(a.width=n,a.height=i):(e(a).width(n),e(a).height(i))}function c(){v.currentAction="",e.isFunction(r)&&r(),v.processCommandQueue()}function l(){if(s(v.overlay_canvas,n,i),m>=0){var e=v.data[m];e.tempOptions={fade:!1},v.getDataForKey(e.key).highlight(),e.tempOptions=null}s(v.base_canvas,n,i),v.redrawSelections(),c()}function u(){e(v.image).css(f),v.scaleInfo=a.getScaleInfo({width:n,height:i},{width:v.scaleInfo.realWidth,height:v.scaleInfo.realHeight}),e.each(v.data,function(t,a){e.each(a.areas(),function(e,t){t.resize()})})}var h,p,f,d,m,g,v=this;r=r||o,v.scaleInfo.width===n&&v.scaleInfo.height===i||(m=v.highlightId,n||(g=i/v.scaleInfo.realHeight,n=Math.round(v.scaleInfo.realWidth*g)),i||(g=n/v.scaleInfo.realWidth,i=Math.round(v.scaleInfo.realHeight*g)),f={width:String(n)+"px",height:String(i)+"px"},t.hasCanvas()||e(v.base_canvas).children().remove(),d=e(v.wrapper).find(".mapster_el").add(v.wrapper),o?(p=[],v.currentAction="resizing",d.each(function(t,n){h=a.defer(),p.push(h),e(n).animate(f,{duration:o,complete:h.resolve,easing:"linear"})}),h=a.defer(),p.push(h),a.when.all(p).then(l),u(),h.resolve()):(d.css(f),u(),l()))},t.MapArea=a.subclass(t.MapArea,function(){this.base.init(),this.owner.scaleInfo.scale&&this.resize()}),n.coords=function(e,t){var a,n=[],i=e||this.owner.scaleInfo.scalePct,o=t||0;if(1===i&&0===t)return this.originalCoords;for(a=0;a<this.length;a++)n.push(Math.round(this.originalCoords[a]*i)+o);return n},n.resize=function(){this.area.coords=this.coords().join(",")},n.reset=function(){this.area.coords=this.coords(1).join(",")},t.impl.resize=function(e,a,n,i){if(!e&&!a)return!1;var o=new t.Method(this,function(){this.resize(e,a,n,i)},null,{name:"resize",args:arguments}).go();return o}}(jQuery),function(e){function t(t,a,n){var i;return a?(i="string"==typeof a?e(a):e(a).clone(),i.append(t)):i=e(t),i.css(e.extend(n||{},{display:"block",position:"absolute"})).hide(),e("body").append(i),i.attr("data-opacity",i.css("opacity")).css("opacity",0),i.show()}function a(e,t){var a={left:t.left+"px",top:t.top+"px"},n=e.attr("data-opacity")||0,i=e.css("z-index");0!==parseInt(i,10)&&"auto"!==i||(a["z-index"]=9999),e.css(a).addClass("mapster_tooltip"),t.fadeDuration&&t.fadeDuration>0?s.fader(e[0],0,n,t.fadeDuration):s.setOpacity(e[0],n)}function n(t,a,n,i,o,r){var s=n+".mapster-tooltip";return e.inArray(a,t)>=0?(i.unbind(s).bind(s,function(e){o&&!o.call(this,e)||(i.unbind(".mapster-tooltip"),r&&r.call(this))}),{object:i,event:s}):void 0}function i(e,t,n,i,o){var r,c={};return o=o||{},t?(r=s.areaCorners(t,n,i,e.outerWidth(!0),e.outerHeight(!0)),c.left=r[0],c.top=r[1]):(c.left=o.left,c.top=o.top),c.left+=o.offsetx||0,c.top+=o.offsety||0,c.css=o.css,c.fadeDuration=o.fadeDuration,a(e,c),e}function o(e){return e?"string"==typeof e||e.jquery?e:e.content:null}var r=e.mapster,s=r.utils;e.extend(r.defaults,{toolTipContainer:'<div style="border: 2px solid black; background: #EEEEEE; width:160px; padding:4px; margin: 4px; -moz-box-shadow: 3px 3px 5px #535353; -webkit-box-shadow: 3px 3px 5px #535353; box-shadow: 3px 3px 5px #535353; -moz-border-radius: 6px 6px 6px 6px; -webkit-border-radius: 6px; border-radius: 6px 6px 6px 6px; opacity: 0.9;"></div>',showToolTip:!1,toolTipFade:!0,toolTipClose:["area-mouseout","image-mouseout"],onShowToolTip:null,onHideToolTip:null}),e.extend(r.area_defaults,{toolTip:null,toolTipClose:null}),r.MapData.prototype.clearToolTip=function(){this.activeToolTip&&(this.activeToolTip.stop().remove(),this.activeToolTip=null,this.activeToolTipID=null,s.ifFunction(this.options.onHideToolTip,this))},r.AreaData.prototype.showToolTip=function(a,o){var r,c,l,u,h,p={},f=this,d=f.owner,m=f.effectiveOptions();return o=o?e.extend({},o):{},a=a||m.toolTip,c=o.closeEvents||m.toolTipClose||d.options.toolTipClose||"tooltip-click",h="undefined"!=typeof o.template?o.template:d.options.toolTipContainer,o.closeEvents="string"==typeof c?c=s.split(c):c,o.fadeDuration=o.fadeDuration||(d.options.toolTipFade?d.options.fadeDuration||m.fadeDuration:0),l=f.area?f.area:e.map(f.areas(),function(e){return e.area}),d.activeToolTipID!==f.areaId?(d.clearToolTip(),d.activeToolTip=r=t(a,h,o.css),d.activeToolTipID=f.areaId,u=function(){d.clearToolTip()},n(c,"area-click","click",e(d.map),null,u),n(c,"tooltip-click","click",r,null,u),n(c,"image-mouseout","mouseout",e(d.image),function(e){return e.relatedTarget&&"AREA"!==e.relatedTarget.nodeName&&e.relatedTarget!==f.area},u),i(r,l,d.image,o.container,h,o),s.ifFunction(d.options.onShowToolTip,f.area,{toolTip:r,options:p,areaOptions:m,key:f.key,selected:f.isSelected()}),r):void 0},r.impl.tooltip=function(a,s){return new r.Method(this,function(){var r,c,l=this;if(a){if(c=e(a),l.activeToolTipID===c[0])return;l.clearToolTip(),l.activeToolTip=r=t(o(s),s.template||l.options.toolTipContainer,s.css),l.activeToolTipID=c[0],n(["tooltip-click"],"tooltip-click","click",r,null,function(){l.clearToolTip()}),l.activeToolTip=r=i(r,c,l.image,s.container,s)}else l.clearToolTip()},function(){e.isPlainObject(a)&&!s&&(s=a),this.showToolTip(o(s),s)},{name:"tooltip",args:arguments,key:a}).go()}}(jQuery);

/*============================ lightslider - v1.1.6 - 2016-10-25 =================================*/     
 
!function(a,b){"use strict";var c={item:3,autoWidth:!1,slideMove:1,slideMargin:10,addClass:"",mode:"slide",useCSS:!0,cssEasing:"ease",easing:"linear",speed:400,auto:!1,pauseOnHover:!1,loop:!1,slideEndAnimation:!0,pause:2e3,keyPress:!1,controls:!0,prevHtml:"",nextHtml:"",rtl:!1,adaptiveHeight:!1,vertical:!1,verticalHeight:500,vThumbWidth:100,thumbItem:10,pager:!0,gallery:!1,galleryMargin:5,thumbMargin:5,currentPagerPosition:"middle",enableTouch:!0,enableDrag:!0,freeMove:!0,swipeThreshold:40,responsive:[],onBeforeStart:function(a){},onSliderLoad:function(a){},onBeforeSlide:function(a,b){},onAfterSlide:function(a,b){},onBeforeNextSlide:function(a,b){},onBeforePrevSlide:function(a,b){}};a.fn.lightSlider=function(b){if(0===this.length)return this;if(this.length>1)return this.each(function(){a(this).lightSlider(b)}),this;var d={},e=a.extend(!0,{},c,b),f={},g=this;d.$el=this,"fade"===e.mode&&(e.vertical=!1);var h=g.children(),i=a(window).width(),j=null,k=null,l=0,m=0,n=!1,o=0,p="",q=0,r=e.vertical===!0?"height":"width",s=e.vertical===!0?"margin-bottom":"margin-right",t=0,u=0,v=0,w=0,x=null,y="ontouchstart"in document.documentElement,z={};return z.chbreakpoint=function(){if(i=a(window).width(),e.responsive.length){var b;if(e.autoWidth===!1&&(b=e.item),i<e.responsive[0].breakpoint)for(var c=0;c<e.responsive.length;c++)i<e.responsive[c].breakpoint&&(j=e.responsive[c].breakpoint,k=e.responsive[c]);if("undefined"!=typeof k&&null!==k)for(var d in k.settings)k.settings.hasOwnProperty(d)&&(("undefined"==typeof f[d]||null===f[d])&&(f[d]=e[d]),e[d]=k.settings[d]);if(!a.isEmptyObject(f)&&i>e.responsive[0].breakpoint)for(var g in f)f.hasOwnProperty(g)&&(e[g]=f[g]);e.autoWidth===!1&&t>0&&v>0&&b!==e.item&&(q=Math.round(t/((v+e.slideMargin)*e.slideMove)))}},z.calSW=function(){e.autoWidth===!1&&(v=(o-(e.item*e.slideMargin-e.slideMargin))/e.item)},z.calWidth=function(a){var b=a===!0?p.find(".lslide").length:h.length;if(e.autoWidth===!1)m=b*(v+e.slideMargin);else{m=0;for(var c=0;b>c;c++)m+=parseInt(h.eq(c).width())+e.slideMargin}return m},d={doCss:function(){var a=function(){for(var a=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"],b=document.documentElement,c=0;c<a.length;c++)if(a[c]in b.style)return!0};return e.useCSS&&a()?!0:!1},keyPress:function(){e.keyPress&&a(document).on("keyup.lightslider",function(b){a(":focus").is("input, textarea")||(b.preventDefault?b.preventDefault():b.returnValue=!1,37===b.keyCode?g.goToPrevSlide():39===b.keyCode&&g.goToNextSlide())})},controls:function(){e.controls&&(g.after('<div class="lSAction"><a class="lSPrev">'+e.prevHtml+'</a><a class="lSNext">'+e.nextHtml+"</a></div>"),e.autoWidth?z.calWidth(!1)<o&&p.find(".lSAction").hide():l<=e.item&&p.find(".lSAction").hide(),p.find(".lSAction a").on("click",function(b){return b.preventDefault?b.preventDefault():b.returnValue=!1,"lSPrev"===a(this).attr("class")?g.goToPrevSlide():g.goToNextSlide(),!1}))},initialStyle:function(){var a=this;"fade"===e.mode&&(e.autoWidth=!1,e.slideEndAnimation=!1),e.auto&&(e.slideEndAnimation=!1),e.autoWidth&&(e.slideMove=1,e.item=1),e.loop&&(e.slideMove=1,e.freeMove=!1),e.onBeforeStart.call(this,g),z.chbreakpoint(),g.addClass("lightSlider").wrap('<div class="lSSlideOuter '+e.addClass+'"><div class="lSSlideWrapper"></div></div>'),p=g.parent(".lSSlideWrapper"),e.rtl===!0&&p.parent().addClass("lSrtl"),e.vertical?(p.parent().addClass("vertical"),o=e.verticalHeight,p.css("height",o+"px")):o=g.outerWidth(),h.addClass("lslide"),e.loop===!0&&"slide"===e.mode&&(z.calSW(),z.clone=function(){if(z.calWidth(!0)>o){for(var b=0,c=0,d=0;d<h.length&&(b+=parseInt(g.find(".lslide").eq(d).width())+e.slideMargin,c++,!(b>=o+e.slideMargin));d++);var f=e.autoWidth===!0?c:e.item;if(f<g.find(".clone.left").length)for(var i=0;i<g.find(".clone.left").length-f;i++)h.eq(i).remove();if(f<g.find(".clone.right").length)for(var j=h.length-1;j>h.length-1-g.find(".clone.right").length;j--)q--,h.eq(j).remove();for(var k=g.find(".clone.right").length;f>k;k++)g.find(".lslide").eq(k).clone().removeClass("lslide").addClass("clone right").appendTo(g),q++;for(var l=g.find(".lslide").length-g.find(".clone.left").length;l>g.find(".lslide").length-f;l--)g.find(".lslide").eq(l-1).clone().removeClass("lslide").addClass("clone left").prependTo(g);h=g.children()}else h.hasClass("clone")&&(g.find(".clone").remove(),a.move(g,0))},z.clone()),z.sSW=function(){l=h.length,e.rtl===!0&&e.vertical===!1&&(s="margin-left"),e.autoWidth===!1&&h.css(r,v+"px"),h.css(s,e.slideMargin+"px"),m=z.calWidth(!1),g.css(r,m+"px"),e.loop===!0&&"slide"===e.mode&&n===!1&&(q=g.find(".clone.left").length)},z.calL=function(){h=g.children(),l=h.length},this.doCss()&&p.addClass("usingCss"),z.calL(),"slide"===e.mode?(z.calSW(),z.sSW(),e.loop===!0&&(t=a.slideValue(),this.move(g,t)),e.vertical===!1&&this.setHeight(g,!1)):(this.setHeight(g,!0),g.addClass("lSFade"),this.doCss()||(h.fadeOut(0),h.eq(q).fadeIn(0))),e.loop===!0&&"slide"===e.mode?h.eq(q).addClass("active"):h.first().addClass("active")},pager:function(){var a=this;if(z.createPager=function(){w=(o-(e.thumbItem*e.thumbMargin-e.thumbMargin))/e.thumbItem;var b=p.find(".lslide"),c=p.find(".lslide").length,d=0,f="",h=0;for(d=0;c>d;d++){"slide"===e.mode&&(e.autoWidth?h+=(parseInt(b.eq(d).width())+e.slideMargin)*e.slideMove:h=d*(v+e.slideMargin)*e.slideMove);var i=b.eq(d*e.slideMove).attr("data-thumb");if(f+=e.gallery===!0?'<li style="width:100%;'+r+":"+w+"px;"+s+":"+e.thumbMargin+'px"><a href="#"><img src="'+i+'" /></a></li>':'<li><a href="#">'+(d+1)+"</a></li>","slide"===e.mode&&h>=m-o-e.slideMargin){d+=1;var j=2;e.autoWidth&&(f+='<li><a href="#">'+(d+1)+"</a></li>",j=1),j>d?(f=null,p.parent().addClass("noPager")):p.parent().removeClass("noPager");break}}var k=p.parent();k.find(".lSPager").html(f),e.gallery===!0&&(e.vertical===!0&&k.find(".lSPager").css("width",e.vThumbWidth+"px"),u=d*(e.thumbMargin+w)+.5,k.find(".lSPager").css({property:u+"px","transition-duration":e.speed+"ms"}),e.vertical===!0&&p.parent().css("padding-right",e.vThumbWidth+e.galleryMargin+"px"),k.find(".lSPager").css(r,u+"px"));var l=k.find(".lSPager").find("li");l.first().addClass("active"),l.on("click",function(){return e.loop===!0&&"slide"===e.mode?q+=l.index(this)-k.find(".lSPager").find("li.active").index():q=l.index(this),g.mode(!1),e.gallery===!0&&a.slideThumb(),!1})},e.pager){var b="lSpg";e.gallery&&(b="lSGallery"),p.after('<ul class="lSPager '+b+'"></ul>');var c=e.vertical?"margin-left":"margin-top";p.parent().find(".lSPager").css(c,e.galleryMargin+"px"),z.createPager()}setTimeout(function(){z.init()},0)},setHeight:function(a,b){var c=null,d=this;c=e.loop?a.children(".lslide ").first():a.children().first();var f=function(){var d=c.outerHeight(),e=0,f=d;b&&(d=0,e=100*f/o),a.css({height:d+"px","padding-bottom":e+"%"})};f(),c.find("img").length?c.find("img")[0].complete?(f(),x||d.auto()):c.find("img").on("load",function(){setTimeout(function(){f(),x||d.auto()},100)}):x||d.auto()},active:function(a,b){this.doCss()&&"fade"===e.mode&&p.addClass("on");var c=0;if(q*e.slideMove<l){a.removeClass("active"),this.doCss()||"fade"!==e.mode||b!==!1||a.fadeOut(e.speed),c=b===!0?q:q*e.slideMove;var d,f;b===!0&&(d=a.length,f=d-1,c+1>=d&&(c=f)),e.loop===!0&&"slide"===e.mode&&(c=b===!0?q-g.find(".clone.left").length:q*e.slideMove,b===!0&&(d=a.length,f=d-1,c+1===d?c=f:c+1>d&&(c=0))),this.doCss()||"fade"!==e.mode||b!==!1||a.eq(c).fadeIn(e.speed),a.eq(c).addClass("active")}else a.removeClass("active"),a.eq(a.length-1).addClass("active"),this.doCss()||"fade"!==e.mode||b!==!1||(a.fadeOut(e.speed),a.eq(c).fadeIn(e.speed))},move:function(a,b){e.rtl===!0&&(b=-b),this.doCss()?a.css(e.vertical===!0?{transform:"translate3d(0px, "+-b+"px, 0px)","-webkit-transform":"translate3d(0px, "+-b+"px, 0px)"}:{transform:"translate3d("+-b+"px, 0px, 0px)","-webkit-transform":"translate3d("+-b+"px, 0px, 0px)"}):e.vertical===!0?a.css("position","relative").animate({top:-b+"px"},e.speed,e.easing):a.css("position","relative").animate({left:-b+"px"},e.speed,e.easing);var c=p.parent().find(".lSPager").find("li");this.active(c,!0)},fade:function(){this.active(h,!1);var a=p.parent().find(".lSPager").find("li");this.active(a,!0)},slide:function(){var a=this;z.calSlide=function(){m>o&&(t=a.slideValue(),a.active(h,!1),t>m-o-e.slideMargin?t=m-o-e.slideMargin:0>t&&(t=0),a.move(g,t),e.loop===!0&&"slide"===e.mode&&(q>=l-g.find(".clone.left").length/e.slideMove&&a.resetSlide(g.find(".clone.left").length),0===q&&a.resetSlide(p.find(".lslide").length)))},z.calSlide()},resetSlide:function(a){var b=this;p.find(".lSAction a").addClass("disabled"),setTimeout(function(){q=a,p.css("transition-duration","0ms"),t=b.slideValue(),b.active(h,!1),d.move(g,t),setTimeout(function(){p.css("transition-duration",e.speed+"ms"),p.find(".lSAction a").removeClass("disabled")},50)},e.speed+100)},slideValue:function(){var a=0;if(e.autoWidth===!1)a=q*(v+e.slideMargin)*e.slideMove;else{a=0;for(var b=0;q>b;b++)a+=parseInt(h.eq(b).width())+e.slideMargin}return a},slideThumb:function(){var a;switch(e.currentPagerPosition){case"left":a=0;break;case"middle":a=o/2-w/2;break;case"right":a=o-w}var b=q-g.find(".clone.left").length,c=p.parent().find(".lSPager");"slide"===e.mode&&e.loop===!0&&(b>=c.children().length?b=0:0>b&&(b=c.children().length));var d=b*(w+e.thumbMargin)-a;d+o>u&&(d=u-o-e.thumbMargin),0>d&&(d=0),this.move(c,d)},auto:function(){e.auto&&(clearInterval(x),x=setInterval(function(){g.goToNextSlide()},e.pause))},pauseOnHover:function(){var b=this;e.auto&&e.pauseOnHover&&(p.on("mouseenter",function(){a(this).addClass("ls-hover"),g.pause(),e.auto=!0}),p.on("mouseleave",function(){a(this).removeClass("ls-hover"),p.find(".lightSlider").hasClass("lsGrabbing")||b.auto()}))},touchMove:function(a,b){if(p.css("transition-duration","0ms"),"slide"===e.mode){var c=a-b,d=t-c;if(d>=m-o-e.slideMargin)if(e.freeMove===!1)d=m-o-e.slideMargin;else{var f=m-o-e.slideMargin;d=f+(d-f)/5}else 0>d&&(e.freeMove===!1?d=0:d/=5);this.move(g,d)}},touchEnd:function(a){if(p.css("transition-duration",e.speed+"ms"),"slide"===e.mode){var b=!1,c=!0;t-=a,t>m-o-e.slideMargin?(t=m-o-e.slideMargin,e.autoWidth===!1&&(b=!0)):0>t&&(t=0);var d=function(a){var c=0;if(b||a&&(c=1),e.autoWidth)for(var d=0,f=0;f<h.length&&(d+=parseInt(h.eq(f).width())+e.slideMargin,q=f+c,!(d>=t));f++);else{var g=t/((v+e.slideMargin)*e.slideMove);q=parseInt(g)+c,t>=m-o-e.slideMargin&&g%1!==0&&q++}};a>=e.swipeThreshold?(d(!1),c=!1):a<=-e.swipeThreshold&&(d(!0),c=!1),g.mode(c),this.slideThumb()}else a>=e.swipeThreshold?g.goToPrevSlide():a<=-e.swipeThreshold&&g.goToNextSlide()},enableDrag:function(){var b=this;if(!y){var c=0,d=0,f=!1;p.find(".lightSlider").addClass("lsGrab"),p.on("mousedown",function(b){return o>m&&0!==m?!1:void("lSPrev"!==a(b.target).attr("class")&&"lSNext"!==a(b.target).attr("class")&&(c=e.vertical===!0?b.pageY:b.pageX,f=!0,b.preventDefault?b.preventDefault():b.returnValue=!1,p.scrollLeft+=1,p.scrollLeft-=1,p.find(".lightSlider").removeClass("lsGrab").addClass("lsGrabbing"),clearInterval(x)))}),a(window).on("mousemove",function(a){f&&(d=e.vertical===!0?a.pageY:a.pageX,b.touchMove(d,c))}),a(window).on("mouseup",function(g){if(f){p.find(".lightSlider").removeClass("lsGrabbing").addClass("lsGrab"),f=!1,d=e.vertical===!0?g.pageY:g.pageX;var h=d-c;Math.abs(h)>=e.swipeThreshold&&a(window).on("click.ls",function(b){b.preventDefault?b.preventDefault():b.returnValue=!1,b.stopImmediatePropagation(),b.stopPropagation(),a(window).off("click.ls")}),b.touchEnd(h)}})}},enableTouch:function(){var a=this;if(y){var b={},c={};p.on("touchstart",function(a){c=a.originalEvent.targetTouches[0],b.pageX=a.originalEvent.targetTouches[0].pageX,b.pageY=a.originalEvent.targetTouches[0].pageY,clearInterval(x)}),p.on("touchmove",function(d){if(o>m&&0!==m)return!1;var f=d.originalEvent;c=f.targetTouches[0];var g=Math.abs(c.pageX-b.pageX),h=Math.abs(c.pageY-b.pageY);e.vertical===!0?(3*h>g&&d.preventDefault(),a.touchMove(c.pageY,b.pageY)):(3*g>h&&d.preventDefault(),a.touchMove(c.pageX,b.pageX))}),p.on("touchend",function(){if(o>m&&0!==m)return!1;var d;d=e.vertical===!0?c.pageY-b.pageY:c.pageX-b.pageX,a.touchEnd(d)})}},build:function(){var b=this;b.initialStyle(),this.doCss()&&(e.enableTouch===!0&&b.enableTouch(),e.enableDrag===!0&&b.enableDrag()),a(window).on("focus",function(){b.auto()}),a(window).on("blur",function(){clearInterval(x)}),b.pager(),b.pauseOnHover(),b.controls(),b.keyPress()}},d.build(),z.init=function(){z.chbreakpoint(),e.vertical===!0?(o=e.item>1?e.verticalHeight:h.outerHeight(),p.css("height",o+"px")):o=p.outerWidth(),e.loop===!0&&"slide"===e.mode&&z.clone(),z.calL(),"slide"===e.mode&&g.removeClass("lSSlide"),"slide"===e.mode&&(z.calSW(),z.sSW()),setTimeout(function(){"slide"===e.mode&&g.addClass("lSSlide")},1e3),e.pager&&z.createPager(),e.adaptiveHeight===!0&&e.vertical===!1&&g.css("height",h.eq(q).outerHeight(!0)),e.adaptiveHeight===!1&&("slide"===e.mode?e.vertical===!1?d.setHeight(g,!1):d.auto():d.setHeight(g,!0)),e.gallery===!0&&d.slideThumb(),"slide"===e.mode&&d.slide(),e.autoWidth===!1?h.length<=e.item?p.find(".lSAction").hide():p.find(".lSAction").show():z.calWidth(!1)<o&&0!==m?p.find(".lSAction").hide():p.find(".lSAction").show()},g.goToPrevSlide=function(){if(q>0)e.onBeforePrevSlide.call(this,g,q),q--,g.mode(!1),e.gallery===!0&&d.slideThumb();else if(e.loop===!0){if(e.onBeforePrevSlide.call(this,g,q),"fade"===e.mode){var a=l-1;q=parseInt(a/e.slideMove)}g.mode(!1),e.gallery===!0&&d.slideThumb()}else e.slideEndAnimation===!0&&(g.addClass("leftEnd"),setTimeout(function(){g.removeClass("leftEnd")},400))},g.goToNextSlide=function(){var a=!0;if("slide"===e.mode){var b=d.slideValue();a=b<m-o-e.slideMargin}q*e.slideMove<l-e.slideMove&&a?(e.onBeforeNextSlide.call(this,g,q),q++,g.mode(!1),e.gallery===!0&&d.slideThumb()):e.loop===!0?(e.onBeforeNextSlide.call(this,g,q),q=0,g.mode(!1),e.gallery===!0&&d.slideThumb()):e.slideEndAnimation===!0&&(g.addClass("rightEnd"),setTimeout(function(){g.removeClass("rightEnd")},400))},g.mode=function(a){e.adaptiveHeight===!0&&e.vertical===!1&&g.css("height",h.eq(q).outerHeight(!0)),n===!1&&("slide"===e.mode?d.doCss()&&(g.addClass("lSSlide"),""!==e.speed&&p.css("transition-duration",e.speed+"ms"),""!==e.cssEasing&&p.css("transition-timing-function",e.cssEasing)):d.doCss()&&(""!==e.speed&&g.css("transition-duration",e.speed+"ms"),""!==e.cssEasing&&g.css("transition-timing-function",e.cssEasing))),a||e.onBeforeSlide.call(this,g,q),"slide"===e.mode?d.slide():d.fade(),p.hasClass("ls-hover")||d.auto(),setTimeout(function(){a||e.onAfterSlide.call(this,g,q)},e.speed),n=!0},g.play=function(){g.goToNextSlide(),e.auto=!0,d.auto()},g.pause=function(){e.auto=!1,clearInterval(x)},g.refresh=function(){z.init()},g.getCurrentSlideCount=function(){var a=q;if(e.loop){var b=p.find(".lslide").length,c=g.find(".clone.left").length;a=c-1>=q?b+(q-c):q>=b+c?q-b-c:q-c}return a+1},g.getTotalSlideCount=function(){return p.find(".lslide").length},g.goToSlide=function(a){q=e.loop?a+g.find(".clone.left").length-1:a,g.mode(!1),e.gallery===!0&&d.slideThumb()},g.destroy=function(){g.lightSlider&&(g.goToPrevSlide=function(){},g.goToNextSlide=function(){},g.mode=function(){},g.play=function(){},g.pause=function(){},g.refresh=function(){},g.getCurrentSlideCount=function(){},g.getTotalSlideCount=function(){},g.goToSlide=function(){},g.lightSlider=null,z={init:function(){}},g.parent().parent().find(".lSAction, .lSPager").remove(),g.removeClass("lightSlider lSFade lSSlide lsGrab lsGrabbing leftEnd right").removeAttr("style").unwrap().unwrap(),g.children().removeAttr("style"),h.removeClass("lslide active"),g.find(".clone").remove(),h=null,x=null,n=!1,q=0)},setTimeout(function(){e.onSliderLoad.call(this,g)},10),a(window).on("resize orientationchange",function(a){setTimeout(function(){a.preventDefault?a.preventDefault():a.returnValue=!1,z.init()},200)}),this}}(jQuery);